diff --git a/lib/spack/spack/ci.py b/lib/spack/spack/ci.py
index 748b8998..fdcc2006 100644
--- a/lib/spack/spack/ci.py
+++ b/lib/spack/spack/ci.py
@@ -396,6 +396,14 @@ def _spec_matches(spec, match_string):
     return spec.satisfies(match_string)
 
 
+def _remove_attributes(src_dict, dest_dict):
+    if "tags" in src_dict and "tags" in dest_dict:
+        # For 'tags', we remove any tags that are listed for removal
+        for tag in src_dict["tags"]:
+            while tag in dest_dict["tags"]:
+                dest_dict["tags"].remove(tag)
+
+
 def _copy_attributes(attrs_list, src_dict, dest_dict):
     for runner_attr in attrs_list:
         if runner_attr in src_dict:
@@ -434,21 +442,21 @@ def _find_matching_config(spec, gitlab_ci):
         runner_attributes = {}
         _copy_attributes(overridable_attrs, gitlab_ci, runner_attributes)
 
-    ci_mappings = gitlab_ci["mappings"]
-    for ci_mapping in ci_mappings:
+    matched = False
+    for ci_mapping in gitlab_ci["mappings"]:
         for match_string in ci_mapping["match"]:
             if _spec_matches(spec, match_string):
+                matched = True
+                if "remove-attributes" in ci_mapping:
+                    _remove_attributes(ci_mapping["remove-attributes"], runner_attributes)
                 if "runner-attributes" in ci_mapping:
                     _copy_attributes(
                         ci_mapping["runner-attributes"].keys(),
                         ci_mapping["runner-attributes"],
                         runner_attributes,
                     )
-                return runner_attributes
-    else:
-        return None
 
-    return runner_attributes
+    return runner_attributes if matched else None
 
 
 def _pkg_name_from_spec_label(spec_label):
diff --git a/lib/spack/spack/schema/gitlab_ci.py b/lib/spack/spack/schema/gitlab_ci.py
index 83c00d99..e94117e4 100644
--- a/lib/spack/spack/schema/gitlab_ci.py
+++ b/lib/spack/spack/schema/gitlab_ci.py
@@ -52,6 +52,15 @@
     "properties": runner_attributes_schema_items,
 }
 
+remove_attributes_schema = {
+    "type": "object",
+    "additionalProperties": False,
+    "required": ["tags"],
+    "properties": {
+        "tags": {"type": "array", "items": {"type": "string"}},
+    },
+}
+
 
 core_shared_properties = union_dicts(
     runner_attributes_schema_items,
@@ -93,6 +102,7 @@
                             "type": "string",
                         },
                     },
+                    "remove-attributes": remove_attributes_schema,
                     "runner-attributes": {"type": "object", "additionalProperties": True},
                 },
             },
diff --git a/lib/spack/spack/test/cmd/ci.py b/lib/spack/spack/test/cmd/ci.py
index 93995f9e..ab46f2c9 100644
--- a/lib/spack/spack/test/cmd/ci.py
+++ b/lib/spack/spack/test/cmd/ci.py
@@ -1404,6 +1404,14 @@ def test_ci_generate_override_runner_attrs(
           - dependency-install
       - match:
           - a
+        runner-attributes:
+          tags:
+            - bad-a
+      - match:
+          - a
+        remove-attributes:
+          tags:
+            - bad-a
         runner-attributes:
           tags:
             - specific-a
@@ -1456,6 +1464,7 @@ def test_ci_generate_override_runner_attrs(
                     assert len(the_elt["tags"]) == 2
                     assert "specific-a" in the_elt["tags"]
                     assert "toplevel" in the_elt["tags"]
+                    assert "bad-a" not in the_elt["tags"]
                     assert len(the_elt["before_script"]) == 1
                     assert the_elt["before_script"][0] == "custom pre step one"
                     assert len(the_elt["script"]) == 1
diff --git a/share/spack/gitlab/cloud_pipelines/stacks/aws-ahug-aarch64/spack.yaml b/share/spack/gitlab/cloud_pipelines/stacks/aws-ahug-aarch64/spack.yaml
index 7c673075..b8fd738b 100644
--- a/share/spack/gitlab/cloud_pipelines/stacks/aws-ahug-aarch64/spack.yaml
+++ b/share/spack/gitlab/cloud_pipelines/stacks/aws-ahug-aarch64/spack.yaml
@@ -253,16 +253,11 @@ spack:
 
     image: { "name": "ghcr.io/spack/e4s-amazonlinux-2:v2022-03-21", "entrypoint": [""] }
     mappings:
-      - match:
-        - llvm
-        - llvm-amdgpu
-        - paraview
+      - match: ['os=amzn2']
         runner-attributes:
-          tags: [ "spack", "huge", "aarch64" ]
+          tags: ["spack", "aarch64"]
           variables:
-            CI_JOB_SIZE: huge
-            KUBERNETES_CPU_REQUEST: 11000m
-            KUBERNETES_MEMORY_REQUEST: 42G
+            CI_JOB_SIZE: "default"
 
 
       - match:
@@ -293,17 +288,23 @@ spack:
         - vtk-m
         - warpx
         runner-attributes:
-          tags: [ "spack", "large", "aarch64" ]
+          tags: [ "large" ]
           variables:
             CI_JOB_SIZE: large
             KUBERNETES_CPU_REQUEST: 8000m
             KUBERNETES_MEMORY_REQUEST: 12G
 
-      - match: ['os=amzn2']
+
+      - match:
+        - llvm
+        - llvm-amdgpu
+        - paraview
         runner-attributes:
-          tags: ["spack", "aarch64"]
+          tags: [ "huge" ]
           variables:
-            CI_JOB_SIZE: "default"
+            CI_JOB_SIZE: huge
+            KUBERNETES_CPU_REQUEST: 11000m
+            KUBERNETES_MEMORY_REQUEST: 42G
 
     broken-specs-url: "s3://spack-binaries/broken-specs"
 
diff --git a/share/spack/gitlab/cloud_pipelines/stacks/aws-ahug/spack.yaml b/share/spack/gitlab/cloud_pipelines/stacks/aws-ahug/spack.yaml
index 529f67d2..5f3012e5 100644
--- a/share/spack/gitlab/cloud_pipelines/stacks/aws-ahug/spack.yaml
+++ b/share/spack/gitlab/cloud_pipelines/stacks/aws-ahug/spack.yaml
@@ -254,16 +254,11 @@ spack:
 
     image: { "name": "ghcr.io/spack/e4s-amazonlinux-2:v2022-03-21", "entrypoint": [""] }
     mappings:
-      - match:
-        - llvm
-        - llvm-amdgpu
-        - paraview
+      - match: ['os=amzn2']
         runner-attributes:
-          tags: [ "spack", "huge", "x86_64_v4" ]
+          tags: ["spack", "x86_64_v4"]
           variables:
-            CI_JOB_SIZE: huge
-            KUBERNETES_CPU_REQUEST: 11000m
-            KUBERNETES_MEMORY_REQUEST: 42G
+            CI_JOB_SIZE: "default"
 
 
       - match:
@@ -294,17 +289,23 @@ spack:
         - vtk-m
         - warpx
         runner-attributes:
-          tags: [ "spack", "large", "x86_64_v4" ]
+          tags: [ "large" ]
           variables:
             CI_JOB_SIZE: large
             KUBERNETES_CPU_REQUEST: 8000m
             KUBERNETES_MEMORY_REQUEST: 12G
 
-      - match: ['os=amzn2']
+
+      - match:
+        - llvm
+        - llvm-amdgpu
+        - paraview
         runner-attributes:
-          tags: ["spack", "x86_64_v4"]
+          tags: [ "huge" ]
           variables:
-            CI_JOB_SIZE: "default"
+            CI_JOB_SIZE: huge
+            KUBERNETES_CPU_REQUEST: 11000m
+            KUBERNETES_MEMORY_REQUEST: 42G
 
     broken-specs-url: "s3://spack-binaries/broken-specs"
 
diff --git a/share/spack/gitlab/cloud_pipelines/stacks/aws-isc-aarch64/spack.yaml b/share/spack/gitlab/cloud_pipelines/stacks/aws-isc-aarch64/spack.yaml
index d07a21cb..a0c971d4 100644
--- a/share/spack/gitlab/cloud_pipelines/stacks/aws-isc-aarch64/spack.yaml
+++ b/share/spack/gitlab/cloud_pipelines/stacks/aws-isc-aarch64/spack.yaml
@@ -160,16 +160,11 @@ spack:
 
     image: { "name": "ghcr.io/spack/e4s-amazonlinux-2:v2022-03-21", "entrypoint": [""] }
     mappings:
-      - match:
-        - llvm
-        - llvm-amdgpu
-        - paraview
+      - match: ['os=amzn2']
         runner-attributes:
-          tags: [ "spack", "huge", "aarch64" ]
+          tags: ["spack", "aarch64"]
           variables:
-            CI_JOB_SIZE: huge
-            KUBERNETES_CPU_REQUEST: 15000m
-            KUBERNETES_MEMORY_REQUEST: 62G
+            CI_JOB_SIZE: "default"
 
 
       - match:
@@ -215,11 +210,18 @@ spack:
             KUBERNETES_CPU_REQUEST: 8000m
             KUBERNETES_MEMORY_REQUEST: 12G
 
-      - match: ['os=amzn2']
+
+      - match:
+        - llvm
+        - llvm-amdgpu
+        - paraview
         runner-attributes:
-          tags: ["spack", "aarch64"]
+          tags: [ "spack", "huge", "aarch64" ]
           variables:
-            CI_JOB_SIZE: "default"
+            CI_JOB_SIZE: huge
+            KUBERNETES_CPU_REQUEST: 15000m
+            KUBERNETES_MEMORY_REQUEST: 62G
+
 
     broken-specs-url: "s3://spack-binaries/broken-specs"
 
diff --git a/share/spack/gitlab/cloud_pipelines/stacks/aws-isc/spack.yaml b/share/spack/gitlab/cloud_pipelines/stacks/aws-isc/spack.yaml
index e7ae35db..30c6a652 100644
--- a/share/spack/gitlab/cloud_pipelines/stacks/aws-isc/spack.yaml
+++ b/share/spack/gitlab/cloud_pipelines/stacks/aws-isc/spack.yaml
@@ -172,17 +172,11 @@ spack:
 
     image: { "name": "ghcr.io/spack/e4s-amazonlinux-2:v2022-03-21", "entrypoint": [""] }
     mappings:
-      - match:
-        - llvm
-        - llvm-amdgpu
-        - pango
-        - paraview
+      - match: ['os=amzn2']
         runner-attributes:
-          tags: [ "spack", "huge", "x86_64_v4" ]
+          tags: ["spack", "x86_64_v4"]
           variables:
-            CI_JOB_SIZE: huge
-            KUBERNETES_CPU_REQUEST: 11000m
-            KUBERNETES_MEMORY_REQUEST: 42G
+            CI_JOB_SIZE: "default"
 
 
       - match:
@@ -222,17 +216,24 @@ spack:
         - wrf
         - wxwidgets
         runner-attributes:
-          tags: [ "spack", "large", "x86_64_v4" ]
+          tags: [ "large" ]
           variables:
             CI_JOB_SIZE: large
             KUBERNETES_CPU_REQUEST: 8000m
             KUBERNETES_MEMORY_REQUEST: 12G
 
-      - match: ['os=amzn2']
+
+      - match:
+        - llvm
+        - llvm-amdgpu
+        - pango
+        - paraview
         runner-attributes:
-          tags: ["spack", "x86_64_v4"]
+          tags: [ "huge" ]
           variables:
-            CI_JOB_SIZE: "default"
+            CI_JOB_SIZE: huge
+            KUBERNETES_CPU_REQUEST: 11000m
+            KUBERNETES_MEMORY_REQUEST: 42G
 
     broken-specs-url: "s3://spack-binaries/broken-specs"
 
diff --git a/share/spack/gitlab/cloud_pipelines/stacks/build_systems/spack.yaml b/share/spack/gitlab/cloud_pipelines/stacks/build_systems/spack.yaml
index d2be4322..6c6bced3 100644
--- a/share/spack/gitlab/cloud_pipelines/stacks/build_systems/spack.yaml
+++ b/share/spack/gitlab/cloud_pipelines/stacks/build_systems/spack.yaml
@@ -47,26 +47,11 @@ spack:
 
     mappings:
       - match:
-          - cmake
-        runner-attributes:
-          tags: [ "spack", "large", "x86_64"]
-          variables:
-            CI_JOB_SIZE: large
-            KUBERNETES_CPU_REQUEST: 8000m
-            KUBERNETES_MEMORY_REQUEST: 12G
-
-      - match:
-          - curl
-          - gettext
-          - mpich
-          - openjpeg
-          - sqlite
+          - 'os=ubuntu18.04'
         runner-attributes:
-          tags: [ "spack", "medium", "x86_64" ]
+          tags: ["spack", "x86_64"]
           variables:
-            CI_JOB_SIZE: "medium"
-            KUBERNETES_CPU_REQUEST: "2000m"
-            KUBERNETES_MEMORY_REQUEST: "4G"
+            CI_JOB_SIZE: "default"
 
       - match:
           - bzip2
@@ -86,18 +71,33 @@ spack:
           - xz
           - zlib
         runner-attributes:
-          tags: [ "spack", "medium", "x86_64" ]
+          tags: [ "medium" ]
           variables:
             CI_JOB_SIZE: "small"
             KUBERNETES_CPU_REQUEST: "500m"
             KUBERNETES_MEMORY_REQUEST: "500M"
 
       - match:
-          - 'os=ubuntu18.04'
+          - curl
+          - gettext
+          - mpich
+          - openjpeg
+          - sqlite
         runner-attributes:
-          tags: ["spack", "x86_64"]
+          tags: [ "medium" ]
           variables:
-            CI_JOB_SIZE: "default"
+            CI_JOB_SIZE: "medium"
+            KUBERNETES_CPU_REQUEST: "2000m"
+            KUBERNETES_MEMORY_REQUEST: "4G"
+
+      - match:
+          - cmake
+        runner-attributes:
+          tags: [ "large" ]
+          variables:
+            CI_JOB_SIZE: large
+            KUBERNETES_CPU_REQUEST: 8000m
+            KUBERNETES_MEMORY_REQUEST: 12G
 
     broken-specs-url: "s3://spack-binaries/broken-specs"
 
diff --git a/share/spack/gitlab/cloud_pipelines/stacks/data-vis-sdk/spack.yaml b/share/spack/gitlab/cloud_pipelines/stacks/data-vis-sdk/spack.yaml
index 1e747117..bc489697 100644
--- a/share/spack/gitlab/cloud_pipelines/stacks/data-vis-sdk/spack.yaml
+++ b/share/spack/gitlab/cloud_pipelines/stacks/data-vis-sdk/spack.yaml
@@ -56,55 +56,11 @@ spack:
       - if [[ -r /mnt/key/spack_public_key.gpg ]]; then spack gpg trust /mnt/key/spack_public_key.gpg; fi
       - spack -d ci rebuild
     mappings:
-      - match:
-          - llvm
-          - qt
-        runner-attributes:
-          tags: [ "spack", "huge", "x86_64" ]
-          variables:
-            CI_JOB_SIZE: huge
-            KUBERNETES_CPU_REQUEST: 11000m
-            KUBERNETES_MEMORY_REQUEST: 42G
-
-      - match:
-            - ecp-data-vis-sdk
-            - mesa
-            - openblas
-            - paraview
-            - visit
-            - vtk-m
-        runner-attributes:
-          tags: [ "spack", "large", "x86_64" ]
-          variables:
-            CI_JOB_SIZE: large
-            KUBERNETES_CPU_REQUEST: 8000m
-            KUBERNETES_MEMORY_REQUEST: 12G
-
-      - match:
-            - adios2
-            - ascent
-            - binutils
-            - blt
-            - boost
-            - conduit
-            - double-conversion
-            - dray
-            - eigen
-            - faodel
-            - hdf5
-            - mfem
-            - nasm
-            - openmpi
-            - pegtl
-            - py-cinemasci
-            - raja
-            - vtk-h
+      - match: ['@:']
         runner-attributes:
-          tags: [ "spack", "medium", "x86_64" ]
+          tags: ["spack", "x86_64"]
           variables:
-            CI_JOB_SIZE: "medium"
-            KUBERNETES_CPU_REQUEST: "2000m"
-            KUBERNETES_MEMORY_REQUEST: "4G"
+            CI_JOB_SIZE: "default"
 
       - match:
             - darshan-util
@@ -135,17 +91,61 @@ spack:
             - util-linux-uuid
 
         runner-attributes:
-          tags: [ "spack", "small", "x86_64" ]
+          tags: [ "small" ]
           variables:
             CI_JOB_SIZE: "small"
             KUBERNETES_CPU_REQUEST: "500m"
             KUBERNETES_MEMORY_REQUEST: "500M"
 
-      - match: ['@:']
+      - match:
+            - adios2
+            - ascent
+            - binutils
+            - blt
+            - boost
+            - conduit
+            - double-conversion
+            - dray
+            - eigen
+            - faodel
+            - hdf5
+            - mfem
+            - nasm
+            - openmpi
+            - pegtl
+            - py-cinemasci
+            - raja
+            - vtk-h
         runner-attributes:
-          tags: ["spack", "x86_64"]
+          tags: [ "medium" ]
           variables:
-            CI_JOB_SIZE: "default"
+            CI_JOB_SIZE: "medium"
+            KUBERNETES_CPU_REQUEST: "2000m"
+            KUBERNETES_MEMORY_REQUEST: "4G"
+
+      - match:
+            - ecp-data-vis-sdk
+            - mesa
+            - openblas
+            - paraview
+            - visit
+            - vtk-m
+        runner-attributes:
+          tags: [ "large" ]
+          variables:
+            CI_JOB_SIZE: large
+            KUBERNETES_CPU_REQUEST: 8000m
+            KUBERNETES_MEMORY_REQUEST: 12G
+
+      - match:
+          - llvm
+          - qt
+        runner-attributes:
+          tags: [ "huge" ]
+          variables:
+            CI_JOB_SIZE: huge
+            KUBERNETES_CPU_REQUEST: 11000m
+            KUBERNETES_MEMORY_REQUEST: 42G
 
     broken-specs-url: "s3://spack-binaries/broken-specs"
 
diff --git a/share/spack/gitlab/cloud_pipelines/stacks/e4s-oneapi/spack.yaml b/share/spack/gitlab/cloud_pipelines/stacks/e4s-oneapi/spack.yaml
index c3c8019a..9be3b76f 100644
--- a/share/spack/gitlab/cloud_pipelines/stacks/e4s-oneapi/spack.yaml
+++ b/share/spack/gitlab/cloud_pipelines/stacks/e4s-oneapi/spack.yaml
@@ -283,42 +283,72 @@ spack:
     image: ecpe4s/ubuntu20.04-runner-x86_64-oneapi:2022-07-01
     
     mappings:
-      - match:
-          - hipblas
-          - llvm
-          - llvm-amdgpu
-          - rocblas
+      - match: ['os=ubuntu20.04']
         runner-attributes:
-          tags: [ "spack", "huge", "x86_64" ]
+          tags: ["spack", "x86_64"]
           variables:
-            CI_JOB_SIZE: huge
-            KUBERNETES_CPU_REQUEST: 11000m
-            KUBERNETES_MEMORY_REQUEST: 42G
+            CI_JOB_SIZE: "default"
 
       - match:
-          - cuda
-          - dyninst
-          - ginkgo
-          - hpx
-          - kokkos-kernels
-          - kokkos-nvcc-wrapper
-          - magma
-          - mfem
-          - mpich
-          - openturns
-          - precice
-          - raja
-          - rust
-          - slate
-          - trilinos
-          - vtk-m
-          - warpx
+          - alsa-lib
+          - ant
+          - antlr
+          - argobots
+          - automake
+          - berkeley-db
+          - bison
+          - blt
+          - cmake
+          - curl
+          - darshan-util
+          - diffutils
+          - exmcutils
+          - expat
+          - flit
+          - freetype
+          - gdbm
+          - gotcha
+          - hpcviewer
+          - jansson
+          - json-c
+          - libbsd
+          - libevent
+          - libjpeg-turbo
+          - libnrm
+          - libpng
+          - libunistring
+          - lua-luaposix
+          - m4
+          - mpfr
+          - ncurses
+          - openblas
+          - openjdk
+          - papi
+          - parallel-netcdf
+          - pcre2
+          - perl-data-dumper
+          - pkgconf
+          - py-alembic
+          - py-idna
+          - py-testpath
+          - qhull
+          - snappy
+          - swig
+          - tar
+          - tcl
+          - texinfo
+          - unzip
+          - util-linux-uuid
+          - util-macros
+          - yaml-cpp
+          - zlib
+          - zstd
         runner-attributes:
-          tags: [ "spack", "large", "x86_64" ]
+          tags: [ "small" ]
           variables:
-            CI_JOB_SIZE: large
-            KUBERNETES_CPU_REQUEST: 8000m
-            KUBERNETES_MEMORY_REQUEST: 12G
+            CI_JOB_SIZE: "small"
+            KUBERNETES_CPU_REQUEST: "500m"
+            KUBERNETES_MEMORY_REQUEST: "500M"
 
       - match:
           - adios2
@@ -382,78 +412,48 @@ spack:
           - vtk-h
           - zfp
         runner-attributes:
-          tags: [ "spack", "medium", "x86_64" ]
+          tags: [ "medium" ]
           variables:
             CI_JOB_SIZE: "medium"
             KUBERNETES_CPU_REQUEST: "2000m"
             KUBERNETES_MEMORY_REQUEST: "4G"
 
       - match:
-          - alsa-lib
-          - ant
-          - antlr
-          - argobots
-          - automake
-          - berkeley-db
-          - bison
-          - blt
-          - cmake
-          - curl
-          - darshan-util
-          - diffutils
-          - exmcutils
-          - expat
-          - flit
-          - freetype
-          - gdbm
-          - gotcha
-          - hpcviewer
-          - jansson
-          - json-c
-          - libbsd
-          - libevent
-          - libjpeg-turbo
-          - libnrm
-          - libpng
-          - libunistring
-          - lua-luaposix
-          - m4
-          - mpfr
-          - ncurses
-          - openblas
-          - openjdk
-          - papi
-          - parallel-netcdf
-          - pcre2
-          - perl-data-dumper
-          - pkgconf
-          - py-alembic
-          - py-idna
-          - py-testpath
-          - qhull
-          - snappy
-          - swig
-          - tar
-          - tcl
-          - texinfo
-          - unzip
-          - util-linux-uuid
-          - util-macros
-          - yaml-cpp
-          - zlib
-          - zstd
+          - cuda
+          - dyninst
+          - ginkgo
+          - hpx
+          - kokkos-kernels
+          - kokkos-nvcc-wrapper
+          - magma
+          - mfem
+          - mpich
+          - openturns
+          - precice
+          - raja
+          - rust
+          - slate
+          - trilinos
+          - vtk-m
+          - warpx
         runner-attributes:
-          tags: [ "spack", "small", "x86_64" ]
+          tags: [ "large" ]
           variables:
-            CI_JOB_SIZE: "small"
-            KUBERNETES_CPU_REQUEST: "500m"
-            KUBERNETES_MEMORY_REQUEST: "500M"
+            CI_JOB_SIZE: large
+            KUBERNETES_CPU_REQUEST: 8000m
+            KUBERNETES_MEMORY_REQUEST: 12G
 
-      - match: ['os=ubuntu20.04']
+      - match:
+          - hipblas
+          - llvm
+          - llvm-amdgpu
+          - rocblas
         runner-attributes:
-          tags: ["spack", "x86_64"]
+          tags: [ "huge" ]
           variables:
-            CI_JOB_SIZE: "default"
+            CI_JOB_SIZE: huge
+            KUBERNETES_CPU_REQUEST: 11000m
+            KUBERNETES_MEMORY_REQUEST: 42G
 
     broken-specs-url: "s3://spack-binaries/broken-specs"
 
diff --git a/share/spack/gitlab/cloud_pipelines/stacks/e4s/spack.yaml b/share/spack/gitlab/cloud_pipelines/stacks/e4s/spack.yaml
index 4532dc15..3e53c8ce 100644
--- a/share/spack/gitlab/cloud_pipelines/stacks/e4s/spack.yaml
+++ b/share/spack/gitlab/cloud_pipelines/stacks/e4s/spack.yaml
@@ -257,42 +257,72 @@ spack:
       - gptune
 
     mappings:
-      - match:
-          - hipblas
-          - llvm
-          - llvm-amdgpu
-          - rocblas
+      - match: ['os=ubuntu20.04']
         runner-attributes:
-          tags: [ "spack", "huge", "x86_64" ]
+          tags: ["spack", "x86_64"]
           variables:
-            CI_JOB_SIZE: huge
-            KUBERNETES_CPU_REQUEST: 11000m
-            KUBERNETES_MEMORY_REQUEST: 42G
+            CI_JOB_SIZE: "default"
 
       - match:
-          - cuda
-          - dyninst
-          - ginkgo
-          - hpx
-          - kokkos-kernels
-          - kokkos-nvcc-wrapper
-          - magma
-          - mfem
-          - mpich
-          - openturns
-          - precice
-          - raja
-          - rust
-          - slate
-          - trilinos
-          - vtk-m
-          - warpx
+          - alsa-lib
+          - ant
+          - antlr
+          - argobots
+          - automake
+          - berkeley-db
+          - bison
+          - blt
+          - cmake
+          - curl
+          - darshan-util
+          - diffutils
+          - exmcutils
+          - expat
+          - flit
+          - freetype
+          - gdbm
+          - gotcha
+          - hpcviewer
+          - jansson
+          - json-c
+          - libbsd
+          - libevent
+          - libjpeg-turbo
+          - libnrm
+          - libpng
+          - libunistring
+          - lua-luaposix
+          - m4
+          - mpfr
+          - ncurses
+          - openblas
+          - openjdk
+          - papi
+          - parallel-netcdf
+          - pcre2
+          - perl-data-dumper
+          - pkgconf
+          - py-alembic
+          - py-idna
+          - py-testpath
+          - qhull
+          - snappy
+          - swig
+          - tar
+          - tcl
+          - texinfo
+          - unzip
+          - util-linux-uuid
+          - util-macros
+          - yaml-cpp
+          - zlib
+          - zstd
         runner-attributes:
-          tags: [ "spack", "large", "x86_64" ]
+          tags: [ "small" ]
           variables:
-            CI_JOB_SIZE: large
-            KUBERNETES_CPU_REQUEST: 8000m
-            KUBERNETES_MEMORY_REQUEST: 12G
+            CI_JOB_SIZE: "small"
+            KUBERNETES_CPU_REQUEST: "500m"
+            KUBERNETES_MEMORY_REQUEST: "500M"
 
       - match:
           - adios2
@@ -356,78 +386,48 @@ spack:
           - vtk-h
           - zfp
         runner-attributes:
-          tags: [ "spack", "medium", "x86_64" ]
+          tags: [ "medium" ]
           variables:
             CI_JOB_SIZE: "medium"
             KUBERNETES_CPU_REQUEST: "2000m"
             KUBERNETES_MEMORY_REQUEST: "4G"
 
       - match:
-          - alsa-lib
-          - ant
-          - antlr
-          - argobots
-          - automake
-          - berkeley-db
-          - bison
-          - blt
-          - cmake
-          - curl
-          - darshan-util
-          - diffutils
-          - exmcutils
-          - expat
-          - flit
-          - freetype
-          - gdbm
-          - gotcha
-          - hpcviewer
-          - jansson
-          - json-c
-          - libbsd
-          - libevent
-          - libjpeg-turbo
-          - libnrm
-          - libpng
-          - libunistring
-          - lua-luaposix
-          - m4
-          - mpfr
-          - ncurses
-          - openblas
-          - openjdk
-          - papi
-          - parallel-netcdf
-          - pcre2
-          - perl-data-dumper
-          - pkgconf
-          - py-alembic
-          - py-idna
-          - py-testpath
-          - qhull
-          - snappy
-          - swig
-          - tar
-          - tcl
-          - texinfo
-          - unzip
-          - util-linux-uuid
-          - util-macros
-          - yaml-cpp
-          - zlib
-          - zstd
+          - cuda
+          - dyninst
+          - ginkgo
+          - hpx
+          - kokkos-kernels
+          - kokkos-nvcc-wrapper
+          - magma
+          - mfem
+          - mpich
+          - openturns
+          - precice
+          - raja
+          - rust
+          - slate
+          - trilinos
+          - vtk-m
+          - warpx
         runner-attributes:
-          tags: [ "spack", "small", "x86_64" ]
+          tags: [ "large" ]
           variables:
-            CI_JOB_SIZE: "small"
-            KUBERNETES_CPU_REQUEST: "500m"
-            KUBERNETES_MEMORY_REQUEST: "500M"
+            CI_JOB_SIZE: large
+            KUBERNETES_CPU_REQUEST: 8000m
+            KUBERNETES_MEMORY_REQUEST: 12G
 
-      - match: ['os=ubuntu20.04']
+      - match:
+          - hipblas
+          - llvm
+          - llvm-amdgpu
+          - rocblas
         runner-attributes:
-          tags: ["spack", "x86_64"]
+          tags: [ "huge" ]
           variables:
-            CI_JOB_SIZE: "default"
+            CI_JOB_SIZE: huge
+            KUBERNETES_CPU_REQUEST: 11000m
+            KUBERNETES_MEMORY_REQUEST: 42G
 
     broken-specs-url: "s3://spack-binaries/broken-specs"
 
diff --git a/share/spack/gitlab/cloud_pipelines/stacks/radiuss-aws-aarch64/spack.yaml b/share/spack/gitlab/cloud_pipelines/stacks/radiuss-aws-aarch64/spack.yaml
index a5120f9d..5d04aca1 100644
--- a/share/spack/gitlab/cloud_pipelines/stacks/radiuss-aws-aarch64/spack.yaml
+++ b/share/spack/gitlab/cloud_pipelines/stacks/radiuss-aws-aarch64/spack.yaml
@@ -68,17 +68,11 @@ spack:
 
     image: { "name": "ghcr.io/spack/e4s-amazonlinux-2:v2022-03-21", "entrypoint": [""] }
     mappings:
-      - match:
-        - llvm
-        - llvm-amdgpu
-        - pango
-        - paraview
+      - match: ['os=amzn2']
         runner-attributes:
-          tags: [ "spack", "huge", "aarch64" ]
+          tags: ["spack", "aarch64"]
           variables:
-            CI_JOB_SIZE: huge
-            KUBERNETES_CPU_REQUEST: 11000m
-            KUBERNETES_MEMORY_REQUEST: 42G
+            CI_JOB_SIZE: "default"
 
 
       - match:
@@ -118,17 +112,23 @@ spack:
         - wrf
         - wxwidgets
         runner-attributes:
-          tags: [ "spack", "large", "aarch64" ]
+          tags: [ "large" ]
           variables:
             CI_JOB_SIZE: large
             KUBERNETES_CPU_REQUEST: 8000m
             KUBERNETES_MEMORY_REQUEST: 12G
 
-      - match: ['os=amzn2']
+      - match:
+        - llvm
+        - llvm-amdgpu
+        - pango
+        - paraview
         runner-attributes:
-          tags: ["spack", "aarch64"]
+          tags: [ "huge" ]
           variables:
-            CI_JOB_SIZE: "default"
+            CI_JOB_SIZE: huge
+            KUBERNETES_CPU_REQUEST: 11000m
+            KUBERNETES_MEMORY_REQUEST: 42G
 
     broken-specs-url: "s3://spack-binaries/broken-specs"
 
diff --git a/share/spack/gitlab/cloud_pipelines/stacks/radiuss-aws/spack.yaml b/share/spack/gitlab/cloud_pipelines/stacks/radiuss-aws/spack.yaml
index 23339fd3..4535d2f3 100644
--- a/share/spack/gitlab/cloud_pipelines/stacks/radiuss-aws/spack.yaml
+++ b/share/spack/gitlab/cloud_pipelines/stacks/radiuss-aws/spack.yaml
@@ -73,18 +73,11 @@ spack:
 
     image: { "name": "ghcr.io/spack/e4s-amazonlinux-2:v2022-03-21", "entrypoint": [""] }
     mappings:
-      - match:
-        - llvm
-        - llvm-amdgpu
-        - pango
-        - paraview
+      - match: ['os=amzn2']
         runner-attributes:
-          tags: [ "spack", "huge", "x86_64_v4" ]
+          tags: ["spack", "x86_64_v4"]
           variables:
-            CI_JOB_SIZE: huge
-            KUBERNETES_CPU_REQUEST: 11000m
-            KUBERNETES_MEMORY_REQUEST: 42G
-
+            CI_JOB_SIZE: "default"
 
       - match:
         - ascent
@@ -123,17 +116,23 @@ spack:
         - wrf
         - wxwidgets
         runner-attributes:
-          tags: [ "spack", "large", "x86_64_v4" ]
+          tags: [ "large" ]
           variables:
             CI_JOB_SIZE: large
             KUBERNETES_CPU_REQUEST: 8000m
             KUBERNETES_MEMORY_REQUEST: 12G
 
-      - match: ['os=amzn2']
+      - match:
+        - llvm
+        - llvm-amdgpu
+        - pango
+        - paraview
         runner-attributes:
-          tags: ["spack", "x86_64_v4"]
+          tags: [ "huge" ]
           variables:
-            CI_JOB_SIZE: "default"
+            CI_JOB_SIZE: huge
+            KUBERNETES_CPU_REQUEST: 11000m
+            KUBERNETES_MEMORY_REQUEST: 42G
 
     broken-specs-url: "s3://spack-binaries/broken-specs"
 
diff --git a/share/spack/gitlab/cloud_pipelines/stacks/radiuss/spack.yaml b/share/spack/gitlab/cloud_pipelines/stacks/radiuss/spack.yaml
index 86858bdd..b1cffced 100644
--- a/share/spack/gitlab/cloud_pipelines/stacks/radiuss/spack.yaml
+++ b/share/spack/gitlab/cloud_pipelines/stacks/radiuss/spack.yaml
@@ -73,36 +73,11 @@ spack:
       - if [[ -r /mnt/key/spack_public_key.gpg ]]; then spack gpg trust /mnt/key/spack_public_key.gpg; fi
       - spack -d ci rebuild
     mappings:
-      - match:
-          - lbann
-          - openblas
-          - rust
-        runner-attributes:
-          tags: ["spack", "large", "x86_64"]
-          variables:
-            CI_JOB_SIZE: large
-            KUBERNETES_CPU_REQUEST: 8000m
-            KUBERNETES_MEMORY_REQUEST: 12G
-
-      - match:
-          - ascent
-          - axom
-          - conduit
-          - hdf5
-          - hydrogen
-          - mfem
-          - mvapich2
-          - py-packaging
-          - py-scipy
-          - samrai
-          - vtk-h
-          - vtk-m
+      - match: ['os=ubuntu18.04']
         runner-attributes:
-          tags: ["spack", "medium", "x86_64"]
+          tags: ["spack", "x86_64"]
           variables:
-            CI_JOB_SIZE: "medium"
-            KUBERNETES_CPU_REQUEST: "2000m"
-            KUBERNETES_MEMORY_REQUEST: "4G"
+            CI_JOB_SIZE: "default"
 
       - match:
           - autoconf-archive
@@ -152,17 +127,42 @@ spack:
           - zfp
           - zlib
         runner-attributes:
-          tags: ["spack", "small", "x86_64"]
+          tags: ["small"]
           variables:
             CI_JOB_SIZE: "small"
             KUBERNETES_CPU_REQUEST: "500m"
             KUBERNETES_MEMORY_REQUEST: "500M"
 
-      - match: ['os=ubuntu18.04']
+      - match:
+          - ascent
+          - axom
+          - conduit
+          - hdf5
+          - hydrogen
+          - mfem
+          - mvapich2
+          - py-packaging
+          - py-scipy
+          - samrai
+          - vtk-h
+          - vtk-m
         runner-attributes:
-          tags: ["spack", "x86_64"]
+          tags: ["medium"]
           variables:
-            CI_JOB_SIZE: "default"
+            CI_JOB_SIZE: "medium"
+            KUBERNETES_CPU_REQUEST: "2000m"
+            KUBERNETES_MEMORY_REQUEST: "4G"
+
+      - match:
+          - lbann
+          - openblas
+          - rust
+        runner-attributes:
+          tags: ["large"]
+          variables:
+            CI_JOB_SIZE: large
+            KUBERNETES_CPU_REQUEST: 8000m
+            KUBERNETES_MEMORY_REQUEST: 12G
 
     broken-specs-url: "s3://spack-binaries/broken-specs"
 
diff --git a/share/spack/gitlab/cloud_pipelines/stacks/tutorial/spack.yaml b/share/spack/gitlab/cloud_pipelines/stacks/tutorial/spack.yaml
index 0bd3894a..0282352e 100644
--- a/share/spack/gitlab/cloud_pipelines/stacks/tutorial/spack.yaml
+++ b/share/spack/gitlab/cloud_pipelines/stacks/tutorial/spack.yaml
@@ -75,37 +75,11 @@ spack:
 
     image: { "name": "ghcr.io/spack/tutorial-ubuntu-18.04:v2021-11-02", "entrypoint": [""] }
     mappings:
-      - match:
-          - cmake
-          - dyninst
-          - gcc
-          - mpich
-          - netlib-lapack
-          - trilinos
-        runner-attributes:
-          tags: ["spack", "large", "x86_64"]
-          variables:
-            CI_JOB_SIZE: large
-            KUBERNETES_CPU_REQUEST: 8000m
-            KUBERNETES_MEMORY_REQUEST: 12G
-
-      - match:
-            - autoconf-archive
-            - boost
-            - hdf5
-            - libtool
-            - libxml2
-            - openblas
-            - openmpi
-            - py-beniget
-            - py-scipy
-            - slurm
+      - match: ['@:']
         runner-attributes:
-          tags: ["spack", "medium", "x86_64"]
+          tags: ["spack", "x86_64"]
           variables:
-            CI_JOB_SIZE: "medium"
-            KUBERNETES_CPU_REQUEST: "2000m"
-            KUBERNETES_MEMORY_REQUEST: "4G"
+            CI_JOB_SIZE: default
 
       - match:
             - automake
@@ -131,17 +105,43 @@ spack:
             - tar
             - util-linux-uuid
         runner-attributes:
-          tags: ["spack", "small", "x86_64"]
+          tags: ["small"]
           variables:
             CI_JOB_SIZE: "small"
             KUBERNETES_CPU_REQUEST: "500m"
             KUBERNETES_MEMORY_REQUEST: "500M"
 
-      - match: ['@:']
+      - match:
+            - autoconf-archive
+            - boost
+            - hdf5
+            - libtool
+            - libxml2
+            - openblas
+            - openmpi
+            - py-beniget
+            - py-scipy
+            - slurm
         runner-attributes:
-          tags: ["spack", "x86_64"]
+          tags: ["medium"]
           variables:
-            CI_JOB_SIZE: default
+            CI_JOB_SIZE: "medium"
+            KUBERNETES_CPU_REQUEST: "2000m"
+            KUBERNETES_MEMORY_REQUEST: "4G"
+
+      - match:
+          - cmake
+          - dyninst
+          - gcc
+          - mpich
+          - netlib-lapack
+          - trilinos
+        runner-attributes:
+          tags: ["large"]
+          variables:
+            CI_JOB_SIZE: large
+            KUBERNETES_CPU_REQUEST: 8000m
+            KUBERNETES_MEMORY_REQUEST: 12G
 
     broken-specs-url: "s3://spack-binaries/broken-specs"
 
